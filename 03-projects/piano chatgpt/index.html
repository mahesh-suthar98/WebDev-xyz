<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Piano</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #222;
      font-family: Arial, sans-serif;
    }

    .piano {
      background: white;
      width: 300px;
      height: 180px;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .key {
      width: 50px;
      height: 120px;
      background: black;
      border-radius: 6px;
      cursor: pointer;
      color: white;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      padding-bottom: 10px;
      font-weight: bold;
      transition: 0.1s;
    }

    .key:active,
    .active {
      background: #444;
      transform: translateY(4px);
    }
  </style>
</head>
<body>

  <div class="piano">
    <div class="key" data-key="j" data-freq="261">J</div>
    <div class="key" data-key="k" data-freq="329">K</div>
    <div class="key" data-key="l" data-freq="392">L</div>
  </div>

  <script>
    const keys = document.querySelectorAll(".key");
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playSound(freq, keyEl) {
      const oscillator = audioCtx.createOscillator();
      const gainNode = audioCtx.createGain();

      oscillator.type = "sine"; // smooth piano-like tone
      oscillator.frequency.value = freq;

      oscillator.connect(gainNode);
      gainNode.connect(audioCtx.destination);

      oscillator.start();
      gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(
        0.001,
        audioCtx.currentTime + 0.5
      );

      oscillator.stop(audioCtx.currentTime + 0.5);

      keyEl.classList.add("active");
      setTimeout(() => keyEl.classList.remove("active"), 100);
    }

    // Mouse click
    keys.forEach(key => {
      key.addEventListener("click", () => {
        playSound(key.dataset.freq, key);
      });
    });

    // Keyboard press
    document.addEventListener("keydown", (e) => {
      const key = e.key.toLowerCase();
      const keyEl = document.querySelector(`.key[data-key="${key}"]`);
      if (keyEl) {
        playSound(keyEl.dataset.freq, keyEl);
      }
    });
  </script>

</body>
</html>
